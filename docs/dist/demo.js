!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRates=t.formatAmountForCurrency=t.getCurrencyFromBrowserLocale=void 0;var o=n(9),u=r(o),a=n(6),i=r(a),s=n(11),c=r(s);t.getCurrencyFromBrowserLocale=function(){if("undefined"==typeof window)return"USD";var e=window.navigator.language.toLowerCase();return c.default[e]||"USD"},t.formatAmountForCurrency=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.round,r=Math.pow(10,t.subunit),o=n(e*r)/r,u=o.toLocaleString().replace(/(\.[\d]{1})$/,"$10");return t.format.replace("{amount}",u)},t.fetchRates=function(e){var t=(new Date).getTime(),n="react-world-price-rates-"+e,r=(0,i.default)(n)||{},o=r.date,a=r.rates;return o&&t-Number(o)<864e5?Promise.resolve(a):(window.__REACT_WORLD_PRICE_FETCHING__=!0,(0,u.default)("https://api.fixer.io/latest?base="+e).then(function(e){return e.json()}).then(function(e){return(0,i.default)(n,{date:t,rates:e.rates}),window.__REACT_WORLD_PRICE_FETCHING__=!1,e.rates}).catch(function(){return window.__REACT_WORLD_PRICE_FETCHING__=!1,{}}))}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports={AUD:{format:"A${amount}",subunit:2},BGN:{format:"{amount} leva",subunit:2},BRL:{format:"R${amount}",subunit:2},CAD:{format:"C${amount}",subunit:2},CHF:{format:"CHF {amount}",subunit:2},CNY:{format:"元{amount}",subunit:2},CZK:{format:"{amount} Kč",subunit:0},DKK:{format:"{amount} kr.",subunit:2},EUR:{format:"€{amount}",subunit:2},GBP:{format:"£{amount}",subunit:2},HKD:{format:"HK${amount}",subunit:2},HRK:{format:"{amount} kn",subunit:2},HUF:{format:"{amount} Ft",subunit:0},IDR:{format:"Rp {amount}",subunit:0},ILS:{format:"₪{amount}",subunit:2},INR:{format:"₹{amount}",subunit:2},ISK:{format:"{amount}kr",subunit:0},JPY:{format:"¥ {amount}",subunit:0},KRW:{format:"₩{amount}",subunit:0},MXN:{format:"${amount}",subunit:2},MYR:{format:"RM{amount}",subunit:2},NOK:{format:"{amount} kr",subunit:0},NZD:{format:"${amount}",subunit:2},PHP:{format:"₱{amount}",subunit:2},PLN:{format:"{amount}zł",subunit:2},RON:{format:"{amount} lei",subunit:2},RUB:{format:"{amount}₽",subunit:2},SEK:{format:"{amount} kr",subunit:0},SGD:{format:"S${amount}",subunit:2},THB:{format:"฿{amount}",subunit:2},TRY:{format:"₺{amount}",subunit:2},USD:{format:"${amount}",subunit:2},ZAR:{format:"R {amount}",subunit:2}}},function(e,t){e.exports=React},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(12),u=r(o),a=n(5),i=r(a);u.default.render(React.createElement(i.default,null),document.querySelector("#react-root"))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),l=r(c),f=n(10),d=r(f),m=n(0),p=n(2),h=r(p),b=function(e){function t(){var e,n,r,i;u(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={amount:100,baseCurrency:(0,m.getCurrencyFromBrowserLocale)(),hideCents:!1,rounding:"round",roundingFn:Math.round},r.updateState=function(e){r.setState(o({},e.target.id,e.target.value))},r.changeHideCents=function(e){r.setState({hideCents:e.target.checked})},r.changeRounding=function(e){var t=e.target.value,n=Math.round;switch(t){case"ceil":n=Math.ceil;break;case"floor":n=Math.floor}r.setState({rounding:t,roundingFn:n})},i=n,a(r,i)}return i(t,e),s(t,[{key:"render",value:function(){var e=this;return l.default.createElement("section",null,l.default.createElement("h1",null,"react-world-price"),l.default.createElement("iframe",{src:"https://ghbtns.com/github-btn.html?user=jasonbarry&repo=react-world-price&type=star&count=true&size=large",frameborder:"0",scrolling:"0",width:"160px",height:"30px"}),l.default.createElement("aside",null,"An automatic currency conversion component for React that Just Works",l.default.createElement("sup",null,"™"),"."),l.default.createElement("div",{className:"inputs background center"},l.default.createElement("div",null,l.default.createElement("label",{htmlFor:"amount"},"Amount"),l.default.createElement("input",{id:"amount",type:"text",value:this.state.amount,onChange:this.updateState})),l.default.createElement("div",null,l.default.createElement("label",{htmlFor:"baseCurrency"},"Base Currency"),l.default.createElement("select",{id:"baseCurrency",type:"text",value:this.state.baseCurrency,onChange:this.updateState},Object.keys(h.default).map(function(e){return l.default.createElement("option",{value:e},e)}))),l.default.createElement("div",null,l.default.createElement("input",{id:"hideCents",type:"checkbox",checked:this.state.hideCents,onChange:this.changeHideCents}),l.default.createElement("label",{htmlFor:"hideCents"},"Hide Cents")),l.default.createElement("div",null,l.default.createElement("label",{htmlFor:"rounding"},"Rounding"),l.default.createElement("select",{id:"rounding",type:"text",value:this.state.rounding,onChange:this.changeRounding},l.default.createElement("option",{value:"ceil"},"Math.ceil"),l.default.createElement("option",{value:"round"},"Math.round"),l.default.createElement("option",{value:"floor"},"Math.floor")))),l.default.createElement("div",{className:"prices"},Object.keys(h.default).map(function(t){return l.default.createElement("p",{className:"center "+(t===e.state.baseCurrency?"highlight":"")},l.default.createElement(d.default,{key:t,amount:e.state.amount||0,baseCurrency:e.state.baseCurrency,displayCurrency:t,hideCents:e.state.hideCents,rounding:e.state.roundingFn}))})),l.default.createElement("pre",{className:"background center"},l.default.createElement("span",{className:"red"},"$")," ",l.default.createElement("span",{className:"green"},"yarn add react-world-price")),l.default.createElement("footer",{className:"center"},l.default.createElement("a",{href:"https://github.com/jasonbarry/react-world-price"},l.default.createElement("img",{src:"dist/gh.png",width:"32",height:"32",alt:"View react-world-price on GitHub"}))))}}]),t}(l.default.Component);t.default=b},function(e,t,n){"use strict";(function(t){function r(e,t){return 1===arguments.length?o(e):u(e,t)}function o(e){return JSON.parse(l.getItem(e))}function u(e,t){try{return l.setItem(e,JSON.stringify(t)),!0}catch(e){return!1}}function a(e){return l.removeItem(e)}function i(){return l.clear()}var s=n(7),c=n(8),l="localStorage"in t&&t.localStorage?t.localStorage:s;r.set=u,r.get=o,r.remove=a,r.clear=i,r.on=c.on,r.off=c.off,e.exports=r}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return e in i?i[e]:null}function o(e,t){return i[e]=t,!0}function u(e){return!!(e in i)&&delete i[e]}function a(){return i={},!0}var i={};e.exports={getItem:r,setItem:o,removeItem:u,clear:a}},function(e,t,n){"use strict";(function(t){function n(){t.addEventListener?t.addEventListener("storage",r,!1):t.attachEvent?t.attachEvent("onstorage",r):t.onstorage=r}function r(e){function n(t){t(JSON.parse(e.newValue),JSON.parse(e.oldValue),e.url||e.uri)}e||(e=t.event);var r=a[e.key];r&&r.forEach(n)}function o(e,t){a[e]?a[e].push(t):a[e]=[t],!1===i&&n()}function u(e,t){var n=a[e];n.length>1?n.splice(n.indexOf(t),1):a[e]=[]}var a={},i=!1;e.exports={on:o,off:u}}).call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof fetch?fetch.bind():function(e,t){return t=t||{},new Promise(function(n,r){function o(){var e,t=[],n=[],r={};return u.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(o,u,a){t.push(u=u.toLowerCase()),n.push([u,a]),e=r[u],r[u]=e?e+","+a:a}),{ok:1==(u.status/200|0),status:u.status,statusText:u.statusText,url:u.responseURL,clone:o,text:function(){return Promise.resolve(u.responseText)},json:function(){return Promise.resolve(u.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([u.response]))},headers:{keys:function(){return t},entries:function(){return n},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}var u=new XMLHttpRequest;u.open(t.method||"get",e);for(var a in t.headers)u.setRequestHeader(a,t.headers[a]);u.withCredentials="include"==t.credentials,u.onload=function(){n(o())},u.onerror=r,u.send(t.body)})};t.default=r},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),c=r(s),l=n(0),f=r(l),d=n(2),m=function(e){return e&&e.__esModule?e:{default:e}}(d),p=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={rates:{}},r.fetchRates=function(e){window.__REACT_WORLD_PRICE_FETCHING__?setTimeout(function(){r.fetchRates(e)},50):f.fetchRates(e).then(function(e){r.setState({rates:e})})},r.wrap=function(e,t){return r.props.unwrap?e:c.createElement("span",{title:t},e)},a=n,u(r,a)}return a(t,e),i(t,[{key:"componentDidMount",value:function(){this.fetchRates(this.props.baseCurrency)}},{key:"componentWillReceiveProps",value:function(e){e.baseCurrency!==this.props.baseCurrency&&this.fetchRates(e.baseCurrency)}},{key:"render",value:function(){if(!Object.keys(this.state.rates).length)return this.wrap(this.props.amount);var e=this.props,t=e.baseCurrency,n=e.displayCurrency,r=e.rounding,o=parseFloat(this.props.amount),u="NaN"===o.toString(),a=!(t in m.default),i=!(n in m.default);if(u||a||i)return console.error("react-world-price",this.props),this.wrap(this.props.amount);var s=f.formatAmountForCurrency(o,m.default[t],r)+" "+t,c=f.formatAmountForCurrency(this.amount,m.default[n],r);return this.wrap(c,s)}},{key:"amount",get:function(){var e=this.props,t=e.amount,n=e.displayCurrency,r=e.hideCents,o=e.rounding,u=parseFloat(t)*(this.state.rates[n]||1);return r?o(u):u}}]),t}(c.Component);p.defaultProps={baseCurrency:"USD",displayCurrency:f.getCurrencyFromBrowserLocale(),hideCents:!1,rounding:Math.round,unwrap:!1},t.default=p},function(e,t){e.exports={af:"ZAR","af-af":"ZAR",bg:"BGN","bg-bg":"BGN",da:"DKK","da-dk":"DKK",de:"EUR","de-at":"EUR","de-ch":"CHF","de-de":"EUR","de-li":"EUR","de-lu":"EUR",el:"EUR","en-au":"AUD","en-ca":"CAD","en-gb":"GBP","en-ie":"EUR","en-nz":"NZD","en-us":"USD","en-za":"ZAR",es:"EUR","es-mx":"MXN","es-xl":"EUR",fr:"EUR","fr-be":"EUR","fr-ca":"CAD","fr-ch":"CHF","fr-fr":"EUR","fr-lu":"EUR",gd:"EUR","gd-ie":"EUR",he:"ILS","he-il":"ILS",hu:"HUF","hu-hu":"HUF",id:"INR",is:"ISK","is-is":"ISK",it:"EUR","it-it":"EUR","it-ch":"CHF",ja:"JPY","ja-jp":"JPY",ko:"KRW","ko-kr":"KRW",nl:"EUR","nl-be":"EUR","nl-nl":"EUR",no:"NOK","no-no":"NOK",pl:"PLN","pl-pl":"PLN",pt:"EUR","pt-pt":"EUR","pt-br":"BRL",ro:"RON","ro-ro":"RON","ro-mo":"RON",ru:"RUB","ru-ru":"RUB","ru-mo":"RUB",th:"THB","th-th":"THB",tr:"TRY","tr-tr":"TRY"}},function(e,t){e.exports=ReactDOM},function(e,t,n){e.exports=n(4)}]);